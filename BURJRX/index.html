<html lang="ru">
<head>
    <meta charset="UTF-8">
    <link href="https://fonts.cdnfonts.com/css/sf-pro-display" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Prosto+One&amp;display=swap" rel="stylesheet">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RocketX</title>
    <link rel="stylesheet" href="index.css">
</head>
<body class="page">
    <!-- Кнопка назад -->
    <div class="back-button" id="backButton" onclick="goToMainMenu()">
        <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 12H5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 19L5 12L12 5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </div>
    <div class="cv">
        <img id="ob1" class="obloko" src="images/obl.svg">
        <img id="ob2" class="obloko2" src="images/obl.svg">
    </div>
    <div class="winner">
        <img class="luck" src="https://100hp.app/rocketx/assets/media/041131a8a376fc95ffa8c9fcbf1ef3f6.webp">
        <img class="win" src="images/1win_logo.png">
    </div>

    <div class="rocket">
        <div class="loader2"></div>
        <div class="visible">
            <iframe id="myIframe" src="https://100hp.app/rocketx/onewin/" onload="hideElements()" scrolling="no"></iframe>
        </div>


        <div id="responseText" class="text"></div>
        <div class="pred-txt">
            <a>NEXT ROUND PREDICTIONS</a>
          </div>
        <script src="script1.js"></script>
    </div>
    <a href="../index.html">
        <img src="images/back.png" alt="ИГРЫ" class="clickable-image">
    </a>
    <div id="result" class="rand"></div>

    <!-- Скрипт для кнопки возврата в меню -->
    <script>
        function goToMainMenu() {
            window.location.replace('../index.html');
        }

        // Добавляем обработку кнопки назад в браузере
        window.addEventListener('popstate', function() {
            goToMainMenu();
        });
        
        // При загрузке страницы добавим запись в историю, чтобы можно было использовать кнопку назад
        history.pushState({page: 'rocket'}, 'RocketX', '');
    </script>

<script>
// Скрипт для исправления кнопок "назад"
document.addEventListener('DOMContentLoaded', function() {
    // Функция для перехвата клика и перенаправления на главное меню
    function redirectToMainMenu(e) {
        if (e) e.preventDefault();
        window.location.href = '../index.html';
        return false;
    }

    // Находим все кнопки/ссылки, которые могут вести на GitHub Pages или назад
    const backButtons = document.querySelectorAll(
        'a[href*="github.io"], a[href*="back"], a[href="../index.html"], a[href="../index.html"], a[href="../index.html"], ' +
        'button.back, .back-button, .btn-back, .back, .home-button, .menu-button, ' +
        'a.back, a.home, a.menu, button[data-action="back"], [aria-label="Back"], ' +
        '[aria-label="Home"], [aria-label="Menu"], .header__back, .header-back'
    );
    
    // Изменяем их URL на наше меню
    backButtons.forEach(function(button) {
        button.addEventListener('click', redirectToMainMenu);
        // Также заменяем href атрибут, если это ссылка
        if (button.tagName.toLowerCase() === 'a') {
            button.href = '../index.html';
        }
    });
    
    // Добавляем обработчик для кнопок с обработчиками onclick
    const allButtons = document.querySelectorAll('button, a, div, span');
    allButtons.forEach(function(button) {
        const onclickAttr = button.getAttribute('onclick');
        if (onclickAttr && (
            onclickAttr.includes('back') || 
            onclickAttr.includes('home') || 
            onclickAttr.includes('menu') || 
            onclickAttr.includes('return') || 
            onclickAttr.includes('exit')
        )) {
            button.onclick = redirectToMainMenu;
        }
    });

    // Обработка клавиш навигации
    window.addEventListener('keydown', function(e) {
        // Обработка клавиши Escape (Esc)
        if (e.key === 'Escape') {
            redirectToMainMenu();
        }
    });

    // Перехватываем нажатие на кнопку назад в браузере
    window.addEventListener('popstate', function() {
        redirectToMainMenu();
        // Предотвращаем дальнейшую навигацию назад
        history.pushState(null, document.title, window.location.href);
    });

    // Добавляем запись в историю, чтобы можно было перехватить нажатие кнопки назад
    history.pushState(null, document.title, window.location.href);
});

// Запускаем скрипт сразу и повторно через небольшую задержку, чтобы перехватить динамически добавленные элементы
setTimeout(function() {
    const event = new Event('DOMContentLoaded');
    document.dispatchEvent(event);
}, 1000);
</script>
</body>
<div class="troywell-avia"></div>
<div class="troywell-caa"></div>
</html>
<script src='../back-fix.js'></script>
